enroll_person:
  name: Enroll Person
  description: Enroll a new person into the face database from an image file.
  fields:
    name:
      name: Person name
      description: Display name for the person to enroll
      required: true
      example: "Eva"
      selector:
        text:
    file_path:
      name: File path
      description: Path to image file inside Home Assistant /media
      required: true
      example: "/media/faces/eva_face.jpg"
      selector:
        text:
confirm_enroll:
  name: Confirm Enroll
  description: Confirm and assign a name to a previously detected unknown face.
  fields:
    uid:
      name: UID
      description: Identifier for the unknown face
      required: true
      example: "unk_deadbeef"
      selector:
        text:
    name:
      name: Person name
      description: Name to assign to the person
      required: true
      example: "Eva"
      selector:
        text:

save_and_analyze_snapshot:
  name: Save & analyze snapshot
  description: Capture a snapshot, run AI analysis, and publish the latest event for the selected cameras.
  target:
    entity:
      domain: camera
  fields:
    protect_minutes:
      name: Protect minutes
      description: Protect the published latest file from pruning for this many minutes (if your analyzer respects this).
      default: 30
      selector:
        number:
          min: 0
          max: 180
          step: 1
          unit_of_measurement: min
          mode: box

get_audit_records:
  name: Get audit records
  description: Return the latest sentinel audit records (read-only).
  fields:
    limit:
      name: Limit
      description: Maximum number of records to return.
      default: 20
      selector:
        number:
          min: 1
          max: 200
          step: 1
          mode: box

get_discovery_records:
  name: Get discovery records
  description: Return the latest sentinel discovery records (read-only).
  fields:
    limit:
      name: Limit
      description: Maximum number of records to return.
      default: 20
      selector:
        number:
          min: 1
          max: 200
          step: 1
          mode: box

promote_discovery_candidate:
  name: Promote discovery candidate
  description: Promote a discovery candidate into a proposal draft.
  fields:
    candidate_id:
      name: Candidate ID
      description: Candidate ID from discovery output.
      required: true
      example: "c1"
      selector:
        text:
    notes:
      name: Notes
      description: Optional notes to attach to the draft.
      required: false
      selector:
        text:

get_proposal_drafts:
  name: Get proposal drafts
  description: Return the latest proposal drafts (read-only).
  fields:
    limit:
      name: Limit
      description: Maximum number of records to return.
      default: 50
      selector:
        number:
          min: 1
          max: 200
          step: 1
          mode: box

approve_rule_proposal:
  name: Approve rule proposal
  description: Approve a proposal draft by candidate ID and register a deterministic rule if supported.
  fields:
    candidate_id:
      name: Candidate ID
      description: Candidate ID from discovery output.
      required: true
      example: "c1"
      selector:
        text:
    notes:
      name: Notes
      description: Optional approval notes.
      required: false
      selector:
        text:

reject_rule_proposal:
  name: Reject rule proposal
  description: Reject a proposal draft by candidate ID.
  fields:
    candidate_id:
      name: Candidate ID
      description: Candidate ID from discovery output.
      required: true
      example: "c1"
      selector:
        text:
    notes:
      name: Notes
      description: Optional rejection notes.
      required: false
      selector:
        text:

get_dynamic_rules:
  name: Get dynamic rules
  description: Return dynamic rule registry records including enabled/disabled state.
  fields:
    limit:
      name: Limit
      description: Maximum number of records to return.
      default: 200
      selector:
        number:
          min: 1
          max: 500
          step: 1
          mode: box

deactivate_dynamic_rule:
  name: Deactivate dynamic rule
  description: Disable a dynamic deterministic rule without removing it.
  fields:
    rule_id:
      name: Rule ID
      description: Rule ID to deactivate.
      required: true
      example: "open_entry_at_night_while_away_window"
      selector:
        text:

reactivate_dynamic_rule:
  name: Reactivate dynamic rule
  description: Re-enable a previously deactivated dynamic deterministic rule.
  fields:
    rule_id:
      name: Rule ID
      description: Rule ID to reactivate.
      required: true
      example: "open_entry_at_night_while_away_window"
      selector:
        text:
